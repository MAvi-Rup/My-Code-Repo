turn!0===t&&e.backUp(1),e.match(g)}function k(e){return e.match(h)}return{startState:function(){return{indentStack:null,indentation:0,mode:!1,sExprComment:!1,sExprQuote:!1}},token:function(s,d){if(null==d.indentStack&&s.sol()&&(d.indentation=s.indentation()),s.eatSpace())return null;var m=null;switch(d.mode){case"string":for(var f=!1;null!=(h=s.next());){if('"'==h&&!f){d.mode=!1;break}f=!f&&"\\"==h}m=n;break;case"comment":for(var h,g=!1;null!=(h=s.next());){if("#"==h&&g){d.mode=!1;break}g="|"==h}m=t;break;case"s-expr-comment":if(d.mode=!1,"("!=s.peek()&&"["!=s.peek()){s.eatWhile(/[^\s\(\)\[\]]/),m=t;break}d.sExprComment=0;default:var w=s.next();if('"'==w)d.mode="string",m=n;else if("'"==w)"("==s.peek()||"["==s.peek()?("number"!=typeof d.sExprQuote&&(d.sExprQuote=0),m=r):(s.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/),m=r);else if("#"==w)if(s.eat("|"))d.mode="comment",m=t;else if(s.eat(/[tf]/i))m=r;else if(s.eat(";"))d.mode="s-expr-comment",m=t;else{var y=null,E=!1,S=!0;s.eat(/[ei]/i)?E=!0:s.backUp(1),s.match(/^#b/i)?y=x:s.match(/^#o/i)?y=b:s.match(/^#x/i)?y=k:s.match(/^#d/i)?y=v:s.match(/^[-+0-9.]/,!1)?(S=!1,y=v):E||s.eat("#"),null!=y&&(S&&!E&&s.match(/^#[ei]/i),y(s)&&(m=i))}else if(/^[-+0-9.]/.test(w)&&v(s,!0))m=i;else if(";"==w)s.skipToEnd(),m=t;else if("("==w||"["==w){for(v